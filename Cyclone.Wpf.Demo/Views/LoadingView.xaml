<UserControl
    x:Class="Cyclone.Wpf.Demo.Views.LoadingView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cy="https://www.cyclone/wpf"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:gif="https://github.com/XamlAnimatedGif/XamlAnimatedGif"
    xmlns:local="clr-namespace:Cyclone.Wpf.Demo.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DataContext="{d:DesignInstance Type=local:LoadingViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <cy:SpacingStackPanel Spacing="20">
        <cy:Switch x:Name="LoadingSwitch" Content="IsLoading" />
        <HeaderedContentControl Header="Nomarl">
            <cy:SpacingUniformGrid HorizontalSpacing="5" Rows="1">
                <Button cy:LoadingAdorner.IsLoading="{Binding ElementName=LoadingSwitch, Path=IsChecked}">Button</Button>
            </cy:SpacingUniformGrid>
        </HeaderedContentControl>

        <HeaderedContentControl Header="Custom">
            <cy:SpacingUniformGrid HorizontalSpacing="5" Rows="1">
                <TextBox
                    Height="50"
                    cy:LoadingAdorner.IsLoading="{Binding ElementName=LoadingSwitch, Path=IsChecked}"
                    Text="TextBox">
                    <cy:LoadingAdorner.LoadingContent>
                        <ProgressBar
                            Width="150"
                            Height="15"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsIndeterminate="True" />
                    </cy:LoadingAdorner.LoadingContent>
                    <cy:LoadingAdorner.MaskBackground>
                        <LinearGradientBrush Opacity="0.7" StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Offset="0" Color="#FF000000" />
                            <GradientStop Offset="0.5" Color="LightGray" />
                            <GradientStop Offset="1" Color="Gray" />
                        </LinearGradientBrush>
                    </cy:LoadingAdorner.MaskBackground>
                </TextBox>
            </cy:SpacingUniformGrid>
        </HeaderedContentControl>
        <HeaderedContentControl Header="XamlAnimatedGif">
            <cy:SpacingUniformGrid HorizontalSpacing="5" Rows="1">
                <Label
                    Height="50"
                    HorizontalAlignment="Center"
                    cy:LoadingAdorner.IsLoading="{Binding ElementName=LoadingSwitch, Path=IsChecked}"
                    Content="AnimatedGif">
                    <cy:LoadingAdorner.LoadingContent>
                        <Image
                            Height="32"
                            Margin="5"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            gif:AnimationBehavior.SourceUri="https://www.sucaijishi.com/uploadfile/2013/0527/20130527034916434.gif" />
                    </cy:LoadingAdorner.LoadingContent>
                </Label>
            </cy:SpacingUniformGrid>
        </HeaderedContentControl>
        <HeaderedContentControl Header="WebBrowser">
            <cy:SpacingUniformGrid HorizontalSpacing="5" Rows="1">
                <Button Height="50" cy:LoadingAdorner.IsLoading="{Binding ElementName=LoadingSwitch, Path=IsChecked}">
                    <cy:LoadingAdorner.LoadingContent>
                        <WebBrowser
                            Width="32"
                            Height="32"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            LoadCompleted="WebBrowser_LoadCompleted"
                            Source="https://www.sucaijishi.com/uploadfile/2015/0210/20150210104951657.gif" />
                    </cy:LoadingAdorner.LoadingContent>
                </Button>
            </cy:SpacingUniformGrid>
        </HeaderedContentControl>

        <HeaderedContentControl Header="CustomAnimation">
            <HeaderedContentControl.Resources>
                <local:CustomLoading
                    x:Key="LoadingContent"
                    Width="35"
                    Height="35" />
            </HeaderedContentControl.Resources>
            <cy:SpacingUniformGrid HorizontalSpacing="5" Rows="1">
                <Button Height="50" cy:LoadingAdorner.IsLoading="{Binding ElementName=LoadingSwitch, Path=IsChecked}">
                    Button
                </Button>
            </cy:SpacingUniformGrid>
        </HeaderedContentControl>

        <HeaderedContentControl Header="AsyncLoading">
            <cy:SpacingStackPanel Orientation="Horizontal">
                <ToggleButton
                    x:Name="LoadButton"
                    Height="50"
                    Command="{Binding LoadImageCommand}"
                    CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Mode=Self}}">
                    LoadImage
                </ToggleButton>
                <Border cy:LoadingAdorner.IsLoading="{Binding LoadImageCommand.IsRunning}">
                    <ListBox ItemsSource="{Binding Images}">
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Height" Value="Auto" />
                            </Style>
                        </ListBox.ItemContainerStyle>
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <cy:SpacingUniformGrid
                                    Columns="4"
                                    HorizontalSpacing="5"
                                    Rows="4"
                                    VerticalSpacing="5" />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="Black" BorderThickness="1">
                                    <Image
                                        Width="100"
                                        Height="100"
                                        Source="{Binding Image}"
                                        Stretch="Fill" />
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Border>
            </cy:SpacingStackPanel>
        </HeaderedContentControl>
    </cy:SpacingStackPanel>
</UserControl>