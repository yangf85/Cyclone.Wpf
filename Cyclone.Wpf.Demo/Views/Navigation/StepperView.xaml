<UserControl x:Class="Cyclone.Wpf.Demo.Views.StepperView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:cy="https://www.cyclone/wpf"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Cyclone.Wpf.Demo.Views"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             d:DesignHeight="450"
             d:DesignWidth="800"
             mc:Ignorable="d">
    <UserControl.Resources>

        <!--  自定义连接器模板：箭头  -->
        <DataTemplate x:Key="ArrowConnectorTemplate">
            <Grid Width="40" Height="20">
                <Path Data="M0,10 L30,10 L30,5 L40,10 L30,15 L30,10"
                      Fill="Transparent"
                      Stroke="{DynamicResource Border.Inactive}"
                      StrokeThickness="1.5" />
            </Grid>
        </DataTemplate>

        <!--  自定义连接器模板：激活状态箭头  -->
        <DataTemplate x:Key="ArrowActiveConnectorTemplate">
            <Grid Width="40" Height="20">
                <Path Data="M0,10 L30,10 L30,5 L40,10 L30,15 L30,10"
                      Fill="Transparent"
                      Stroke="{DynamicResource Border.Active}"
                      StrokeThickness="1.5" />
            </Grid>
        </DataTemplate>

        <!--  自定义连接器模板：垂直箭头  -->
        <DataTemplate x:Key="VerticalArrowConnectorTemplate">
            <Grid Width="20" Height="40">
                <Path Data="M10,0 L10,30 L5,30 L10,40 L15,30 L10,30"
                      Fill="Transparent"
                      Stroke="{DynamicResource Border.Inactive}"
                      StrokeThickness="1.5" />
            </Grid>
        </DataTemplate>

        <!--  自定义连接器模板：垂直激活状态箭头  -->
        <DataTemplate x:Key="VerticalArrowActiveConnectorTemplate">
            <Grid Width="20" Height="40">
                <Path Data="M10,0 L10,30 L5,30 L10,40 L15,30 L10,30"
                      Fill="Transparent"
                      Stroke="{DynamicResource Border.Active}"
                      StrokeThickness="1.5" />
            </Grid>
        </DataTemplate>

        <!--  自定义连接器模板：虚线  -->
        <DataTemplate x:Key="DashedConnectorTemplate">
            <Line Stroke="{DynamicResource Border.Inactive}"
                  StrokeDashArray="4,2"
                  StrokeThickness="1.5"
                  X1="0"
                  X2="40"
                  Y1="0"
                  Y2="0" />
        </DataTemplate>

        <!--  自定义连接器模板：圆点  -->
        <DataTemplate x:Key="DotConnectorTemplate">
            <Canvas Width="40" Height="10">
                <Ellipse Canvas.Left="5"
                         Canvas.Top="3"
                         Width="4"
                         Height="4"
                         Fill="{DynamicResource Border.Inactive}" />
                <Ellipse Canvas.Left="18"
                         Canvas.Top="3"
                         Width="4"
                         Height="4"
                         Fill="{DynamicResource Border.Inactive}" />
                <Ellipse Canvas.Left="31"
                         Canvas.Top="3"
                         Width="4"
                         Height="4"
                         Fill="{DynamicResource Border.Inactive}" />
            </Canvas>
        </DataTemplate>
    </UserControl.Resources>

    <Grid>
        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">
                <!--  标题  -->
                <TextBlock Margin="0,0,0,20"
                           FontSize="{StaticResource Font.Header}"
                           FontWeight="Bold"
                           Text="Stepper 步骤条控件演示" />

                <!--  示例1：基本水平步骤条  -->
                <GroupBox Margin="0,0,0,20" Header="基本水平步骤条">
                    <StackPanel>
                        <cy:Stepper x:Name="BasicStepper" CurrentStep="1">
                            <cy:StepperItem Description="第一个步骤的描述文本" Header="步骤一" />
                            <cy:StepperItem Description="第二个步骤的描述文本" Header="步骤二" />
                            <cy:StepperItem Description="第三个步骤的描述文本" Header="步骤三" />
                            <cy:StepperItem Description="第四个步骤的描述文本" Header="步骤四" />
                        </cy:Stepper>

                        <!--  控制按钮  -->
                        <StackPanel Margin="0,10,0,0" HorizontalAlignment="Center" Orientation="Horizontal">
                            <Button Width="80"
                                    Margin="5"
                                    Click="PreviousStep_Click"
                                    Content="上一步" />
                            <Button Width="80"
                                    Margin="5"
                                    Click="NextStep_Click"
                                    Content="下一步" />
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

                <!--  示例2：垂直步骤条  -->
                <GroupBox Margin="0,0,0,20" Header="垂直步骤条">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  垂直步骤条  -->
                        <cy:Stepper x:Name="VerticalStepper"
                                    Grid.Column="0"
                                    CurrentStep="2"
                                    Orientation="Vertical">
                            <cy:StepperItem Description="填写基本信息" Header="个人信息" />
                            <cy:StepperItem Description="填写联系方式" Header="联系方式" />
                            <cy:StepperItem Description="填写收货地址" Header="地址信息" />
                            <cy:StepperItem Description="选择支付方式" Header="支付方式" />
                        </cy:Stepper>

                        <!--  右侧内容面板  -->
                        <Border Grid.Column="1"
                                Margin="20,10"
                                Padding="20"
                                BorderBrush="{DynamicResource Border.Default}"
                                BorderThickness="1">
                            <ContentControl x:Name="StepContent">
                                <TextBlock Text="这是垂直步骤条对应的内容面板，可以根据当前步骤显示不同的内容。" TextWrapping="Wrap" />
                            </ContentControl>
                        </Border>
                    </Grid>
                </GroupBox>

                <!--  示例3：自定义连接器样式的步骤条  -->
                <GroupBox Margin="0,0,0,20" Header="自定义连接器样式的步骤条">
                    <cy:Stepper ActiveConnectorTemplate="{StaticResource ArrowActiveConnectorTemplate}" ConnectorTemplate="{StaticResource ArrowConnectorTemplate}" CurrentStep="1">
                        <cy:StepperItem CompletedIconBackground="{DynamicResource Background.Success}"
                                        Description="制定计划"
                                        Header="计划"
                                        IconBackground="{DynamicResource Background.Inactive}" />
                        <cy:StepperItem CurrentIconBackground="{DynamicResource Background.Info}" Description="编写代码" Header="开发" />
                        <cy:StepperItem Description="进行测试" Header="测试" />
                        <cy:StepperItem Description="部署应用" Header="发布" />
                    </cy:Stepper>
                </GroupBox>

                <!--  示例4：带错误状态的步骤条  -->
                <GroupBox Margin="0,0,0,20" Header="带错误状态的步骤条">
                    <cy:Stepper ConnectorTemplate="{StaticResource DashedConnectorTemplate}" CurrentStep="2">
                        <cy:StepperItem Description="数据已准备完成" Header="准备数据" Status="Completed" />
                        <cy:StepperItem Description="数据处理中出现错误" HasError="True" Header="处理数据" />
                        <cy:StepperItem Description="分析数据结果" Header="分析结果" />
                        <cy:StepperItem Description="生成最终报告" Header="生成报告" />
                    </cy:Stepper>
                </GroupBox>

                <!--  示例5：垂直布局自定义连接器  -->
                <GroupBox Margin="0,0,0,20" Header="垂直布局自定义连接器">
                    <cy:Stepper ActiveConnectorTemplate="{StaticResource VerticalArrowActiveConnectorTemplate}"
                                ConnectorTemplate="{StaticResource VerticalArrowConnectorTemplate}"
                                CurrentStep="1"
                                Orientation="Vertical">
                        <cy:StepperItem Description="初始阶段" Header="阶段一" />
                        <cy:StepperItem Description="中间阶段" Header="阶段二" />
                        <cy:StepperItem Description="最终阶段" Header="阶段三" />
                    </cy:Stepper>
                </GroupBox>

                <!--  示例6：使用数据绑定  -->
                <GroupBox Margin="0,0,0,0" Header="数据绑定示例">
                    <cy:Stepper ConnectorTemplate="{StaticResource DotConnectorTemplate}" CurrentStep="{Binding CurrentStepIndex}" ItemsSource="{Binding StepperItems}">
                        <cy:Stepper.ItemContainerStyle>
                            <Style TargetType="cy:StepperItem">
                                <Setter Property="Header" Value="{Binding Header}" />
                                <Setter Property="Description" Value="{Binding Description}" />
                                <Setter Property="HasError" Value="{Binding HasError}" />
                            </Style>
                        </cy:Stepper.ItemContainerStyle>
                    </cy:Stepper>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>