<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ctl="clr-namespace:Cyclone.Wpf.Controls">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/Cyclone.Wpf;component/Themes/BasicTheme.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <!--  通用滑块轨道按钮样式  -->
    <Style x:Key="ColorSelector.Slider.Track.RepeatButton"
           TargetType="RepeatButton">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RepeatButton">
                    <Grid x:Name="RootBorder"
                          Background="Transparent">
                        <ContentPresenter />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RootBorder" Property="Background" Value="#11000000" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  通用滑块拇指样式  -->
    <Style x:Key="ColorSelector.Slider.Track.Thumb"
           TargetType="Thumb">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Border x:Name="RootBorder"
                            Background="{DynamicResource Background.Default}"
                            BorderBrush="{DynamicResource Border.Active}"
                            BorderThickness="{DynamicResource BorderThickness.Thin}" />
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RootBorder" Property="Background" Value="{DynamicResource Background.Hover}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  基础滑块样式 - 其他样式将基于此样式  -->
    <Style x:Key="ColorSelector.Slider.Base"
           TargetType="Slider">
        <Setter Property="Height" Value="{DynamicResource Height.Horizontal.Control}" />
        <Setter Property="Background" Value="{DynamicResource Background.Default}" />
        <Setter Property="BorderBrush" Value="{DynamicResource Border.Default}" />
        <Setter Property="BorderThickness" Value="{DynamicResource BorderThickness.Thin}" />
        <Setter Property="Foreground" Value="{DynamicResource Foreground.Default}" />
        <Setter Property="AutoToolTipPlacement" Value="BottomRight" />
        <Setter Property="OverridesDefaultStyle" Value="True" />
    </Style>

    <!--  1. 色相滑块样式  -->
    <Style x:Key="ColorSelector.Slider.Hue"
           TargetType="Slider"
           BasedOn="{StaticResource ColorSelector.Slider.Base}">
        <Setter Property="Minimum" Value="0" />
        <Setter Property="Maximum" Value="360" />
        <Setter Property="SmallChange" Value="1" />
        <Setter Property="LargeChange" Value="30" />
        <Setter Property="AutoToolTipPrecision" Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Slider">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Offset="0.0" Color="#FF0000" />
                                        <GradientStop Offset="0.167" Color="#FFFF00" />
                                        <GradientStop Offset="0.333" Color="#00FF00" />
                                        <GradientStop Offset="0.5" Color="#00FFFF" />
                                        <GradientStop Offset="0.667" Color="#0000FF" />
                                        <GradientStop Offset="0.833" Color="#FF00FF" />
                                        <GradientStop Offset="1.0" Color="#FF0000" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Track x:Name="PART_Track"
                                   Grid.Row="0">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="Slider.DecreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="Slider.IncreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Width="12"
                                           Style="{StaticResource ColorSelector.Slider.Track.Thumb}" />
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  2. 透明度滑块样式  -->
    <Style x:Key="ColorSelector.Slider.Opacity"
           TargetType="Slider"
           BasedOn="{StaticResource ColorSelector.Slider.Base}">
        <Setter Property="Minimum" Value="0" />
        <Setter Property="Maximum" Value="1" />
        <Setter Property="SmallChange" Value="0.01" />
        <Setter Property="LargeChange" Value="0.1" />
        <Setter Property="AutoToolTipPrecision" Value="2" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Slider">
                    <Border x:Name="RootBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <DrawingBrush TileMode="Tile"
                                                  Viewport="0,0,10,10"
                                                  ViewportUnits="Absolute">
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>
                                                <GeometryDrawing Brush="{DynamicResource Alternation.Dark}">
                                                    <GeometryDrawing.Geometry>
                                                        <RectangleGeometry Rect="0,0,10,10" />
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                                <GeometryDrawing Brush="{DynamicResource Alternation.Light}">
                                                    <GeometryDrawing.Geometry>
                                                        <GeometryGroup>
                                                            <RectangleGeometry Rect="0,0,5,5" />
                                                            <RectangleGeometry Rect="5,5,5,5" />
                                                        </GeometryGroup>
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Offset="0" Color="Transparent" />
                                        <GradientStop x:Name="PART_OpacityGradient" Offset="1" Color="Red" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Track x:Name="PART_Track"
                                   Grid.Row="0">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="Slider.DecreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="Slider.IncreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Width="12"
                                           Style="{StaticResource ColorSelector.Slider.Track.Thumb}" />
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  3. 亮度滑块样式  -->
    <Style x:Key="ColorSelector.Slider.Brightness"
           TargetType="Slider"
           BasedOn="{StaticResource ColorSelector.Slider.Base}">
        <Setter Property="Minimum" Value="0" />
        <Setter Property="Maximum" Value="1" />
        <Setter Property="SmallChange" Value="0.01" />
        <Setter Property="LargeChange" Value="0.1" />
        <Setter Property="AutoToolTipPrecision" Value="2" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Slider">
                    <Border x:Name="RootBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Offset="0" Color="Black" />
                                        <GradientStop x:Name="PART_BrightnessGradient" Offset="0.5" Color="Red" />
                                        <GradientStop Offset="1" Color="White" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Track x:Name="PART_Track"
                                   Grid.Row="0">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="Slider.DecreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="Slider.IncreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Width="12"
                                           Style="{StaticResource ColorSelector.Slider.Track.Thumb}" />
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  4. 饱和度滑块样式  -->
    <Style x:Key="ColorSelector.Slider.Saturation"
           TargetType="Slider"
           BasedOn="{StaticResource ColorSelector.Slider.Base}">
        <Setter Property="Minimum" Value="0" />
        <Setter Property="Maximum" Value="1" />
        <Setter Property="SmallChange" Value="0.01" />
        <Setter Property="LargeChange" Value="0.1" />
        <Setter Property="AutoToolTipPrecision" Value="2" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Slider">
                    <Border x:Name="RootBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Rectangle>
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Offset="0" Color="Gray" />
                                        <GradientStop x:Name="PART_SaturationGradient" Offset="1" Color="Red" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Track x:Name="PART_Track"
                                   Grid.Row="0">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="Slider.DecreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="Slider.IncreaseLarge"
                                                  Style="{StaticResource ColorSelector.Slider.Track.RepeatButton}" />
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Width="12"
                                           Style="{StaticResource ColorSelector.Slider.Track.Thumb}" />
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ctl:ColorRegion}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="MinHeight" Value="200" />
        <Setter Property="MinWidth" Value="200" />
        <Setter Property="BorderBrush" Value="{StaticResource Border.Default}" />
        <Setter Property="BorderThickness" Value="{StaticResource BorderThickness.Thin}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ctl:ColorRegion}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Border x:Name="PART_ColorArea"
                                    ClipToBounds="True">
                                <Border.Background>
                                    <LinearGradientBrush x:Name="SaturationGradient" StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Offset="0" Color="White" />
                                        <GradientStop x:Name="PART_HueGradient" Offset="1" Color="Red" />
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Rectangle>
                                    <Rectangle.Fill>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Offset="0" Color="Transparent" />
                                            <GradientStop Offset="1" Color="Black" />
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Border>
                            <Canvas>
                                <Ellipse x:Name="PART_Selector"
                                         Width="12"
                                         Height="12"
                                         Stroke="White"
                                         StrokeThickness="1">
                                    <Ellipse.Effect>
                                        <DropShadowEffect Opacity="0.5"
                                                          ShadowDepth="1" />
                                    </Ellipse.Effect>
                                </Ellipse>
                            </Canvas>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ctl:ColorEyedropper}">
        <Setter Property="Height" Value="{DynamicResource Height.Horizontal.Control}" />
        <Setter Property="Background" Value="{DynamicResource Background.Default}" />
        <Setter Property="BorderBrush" Value="{DynamicResource Border.Default}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ctl:ColorEyedropper}">
                    <Border x:Name="RootBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <StackPanel Orientation="Horizontal">
                            <Rectangle x:Name="SelectedColorIndicator"
                                       MinWidth="64"
                                       Visibility="Collapsed">
                                <Rectangle.Fill>
                                    <SolidColorBrush Color="{Binding Path=SelectedColor, RelativeSource={RelativeSource Mode=TemplatedParent}}" />
                                </Rectangle.Fill>
                            </Rectangle>
                            <Button x:Name="PART_ExecuteButton"
                                    Width="{Binding Path=ActualHeight, RelativeSource={RelativeSource Mode=Self}}"
                                    Height="{TemplateBinding Height}"
                                    Command="{x:Static ctl:ColorEyedropper.PickColorCommand}">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Grid x:Name="RootGrid"
                                              Background="{TemplateBinding Background}">
                                            <ContentPresenter />
                                        </Grid>
                                        <ControlTemplate.Triggers>
                                            <Trigger SourceName="RootGrid" Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="{DynamicResource Background.Hover}" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                                <Path Margin="5"
                                      Data="M883.34331703 140.80691492A167.59875575 167.59875575 0 0 0 763.96901502 91.35055923c-45.06958293 0-87.43499091 17.54709096-119.25411646 49.39626291l-137.13171769 137.22185685-56.75762811-56.78767451a30.6473164 30.6473164 0 1 0-43.32689241 43.35693879l78.18070321 78.2107496 0.24037112 0.30046389 7.12099409 7.09094771-297.1587835 297.36910824a127.09622388 127.09622388 0 0 0-35.84534164 110.6908957L113.28442293 805.01238188A74.27467268 74.27467268 0 0 0 91.35055923 857.86397947c-0.06009278 19.83061649 7.81206104 38.88002689 21.87377093 52.8515976a74.21457992 74.21457992 0 0 0 52.88164397 21.9338637h0.0300464c19.83061649 0.06009278 38.81993411-7.81206104 52.76145842-21.90381731l46.57190237-46.5118096a127.33659501 127.33659501 0 0 0 111.32186987-35.72515608l297.18882989-297.33906184 7.15104049 7.1510405c0.09013917 0.12018555 0.24037111 0.21032472 0.36055667 0.30046389l78.12061042 78.12061042a30.58722362 30.58722362 0 0 0 52.28071621-21.6634462c0-8.11252493-3.21496358-15.92458597-8.98387018-21.6634462l-56.75762813-56.7876745 137.19181047-137.19181047a168.98088964 168.98088964 0 0 0 0-238.62841846zM333.46435879 785.151719a66.40251885 66.40251885 0 0 1-64.50959639 17.06634874 30.58722362 30.58722362 0 0 0-31.18815139 3.57552024c-1.0516236 0.8112525-2.1032472 1.65255138-3.12482442 2.55394305L175.54054016 867.44877744a13.28050377 13.28050377 0 0 1-9.40451963 3.90603053 13.4607821 13.4607821 0 0 1-9.5247052-22.9854873l57.08813839-57.14823117c0.39060305-0.33051028 4.35672634-4.68723663 5.2881644-6.03932411 0.42064944-0.60092777 2.16333998-3.63561302 2.61403581-4.59709746a56.18674673 56.18674673 0 0 0 1.80278332-4.95765412c0.42064944-1.56241221 0.90139166-5.10788607 0.93143804-5.25811801a30.6473164 30.6473164 0 0 0-1.98306164-14.33212739 66.22224053 66.22224053 0 0 1 16.85602401-65.2006633l297.15878352-297.30901546 94.2855675 94.28556751-297.18882989 297.33906184z m506.52201945-449.1033708l-137.16176407 137.22185686-151.88449451-151.94458728 137.13171769-137.22185685c40.56262465-40.56262465 111.32186985-40.53257825 151.91454089 0.06009276a107.56607128 107.56607128 0 0 1 0 151.88449451z"
                                      Fill="{DynamicResource Icon.Foreground.Default}"
                                      Stretch="Uniform" />
                            </Button>
                        </StackPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsShowSelectedColor" Value="True">
                            <Setter TargetName="SelectedColorIndicator" Property="Visibility" Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  颜色项数据模板  -->
    <DataTemplate x:Key="ColorPalette.ItemTemplate">
        <Border x:Name="RootBorder"
                BorderThickness="0"
                Cursor="Hand"
                ToolTipService.BetweenShowDelay="0"
                ToolTipService.InitialShowDelay="500">
            <Border.Background>
                <SolidColorBrush Color="{Binding Color}" />
            </Border.Background>
            <Border.ToolTip>
                <StackPanel>
                    <TextBlock Margin="0,0,0,4"
                               FontStyle="Italic"
                               Text="{Binding Category}" />
                    <TextBlock Text="{Binding RGB}" />
                    <TextBlock FontFamily="Consolas"
                               Text="{Binding HEX}" />
                    <TextBlock Text="{Binding HSL}" />
                </StackPanel>
            </Border.ToolTip>
        </Border>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem}, Path=IsSelected}"
                         Value="True">
                <Setter TargetName="RootBorder" Property="BorderBrush" Value="White" />
                <Setter TargetName="RootBorder" Property="BorderThickness" Value="1" />
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <Style TargetType="{x:Type ctl:ColorTextBox}">
        <Setter Property="Height" Value="{DynamicResource Height.Horizontal.Control}" />
        <Setter Property="Background" Value="{DynamicResource Background.Container}" />
        <Setter Property="BorderBrush" Value="{DynamicResource Border.Default}" />
        <Setter Property="BorderThickness" Value="{DynamicResource BorderThickness.Thin}" />
        <Setter Property="Padding" Value="3,0" />
        <Setter Property="Foreground" Value="{DynamicResource Foreground.Default}" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ctl:ColorTextBox}">
                    <Border x:Name="RootBorder"
                            SnapsToDevicePixels="True"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ScrollViewer x:Name="PART_ContentHost"
                                      Focusable="False"
                                      HorizontalScrollBarVisibility="Hidden"
                                      VerticalScrollBarVisibility="Hidden"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsInputValid" Value="False">
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="#FF0000" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource Border.Hover}" />
                        </Trigger>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource Border.Active}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  ListBoxItem 样式  -->
    <Style TargetType="ctl:ColorPaletteItem">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Height" Value="{DynamicResource Height.Horizontal.Item}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border x:Name="RootBorder"
                            Padding="1">
                        <ContentPresenter />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="RootBorder" Property="BorderThickness" Value="1" />
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource Border.Selected}" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RootBorder" Property="BorderThickness" Value="1" />
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource Border.Hover}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  标准颜色面板样式  -->
    <Style TargetType="{x:Type ctl:ColorPalette}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderBrush" Value="#CCCCCC" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="ItemTemplate" Value="{StaticResource ColorPalette.ItemTemplate}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ctl:ColorPalette}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ItemsPresenter />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="{Binding RelativeSource={RelativeSource AncestorType={x:Type ctl:ColorPalette}}, Path=Columns}"
                                 Rows="{Binding RelativeSource={RelativeSource AncestorType={x:Type ctl:ColorPalette}}, Path=Rows}" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  颜色选择器控件样式  -->
    <Style TargetType="{x:Type ctl:ColorSelector}">
        <Setter Property="Background" Value="{DynamicResource Background.Container}" />
        <Setter Property="BorderBrush" Value="{DynamicResource Border.Default}" />
        <Setter Property="BorderThickness" Value="{DynamicResource BorderThickness.Thin}" />
        <Setter Property="Foreground" Value="{DynamicResource Foreground.Default}" />
        <Setter Property="MinWidth" Value="300" />
        <Setter Property="MinHeight" Value="200" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ctl:ColorSelector}">
                    <Border x:Name="RootBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="20" />
                                <ColumnDefinition Width="1.5*" />
                            </Grid.ColumnDefinitions>

                            <!--  左侧区域：主要控制区  -->
                            <Grid Grid.Column="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="10" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="10" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="10" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="10" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <!--  颜色区域：饱和度/明度选择器  -->
                                <ctl:ColorRegion x:Name="PART_ColorRegion"
                                                 Grid.Row="0"
                                                 Hue="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Hue}"
                                                 Saturation="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Saturation}"
                                                 Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Value}" />

                                <!--  色相(HUE)滑块  -->
                                <Grid Grid.Row="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Text="HUE"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="14" />
                                    <Slider x:Name="PART_HueSlider"
                                            Grid.Column="1"
                                            Style="{StaticResource ColorSelector.Slider.Hue}"
                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Hue}" />
                                </Grid>

                                <!--  透明度滑块  -->
                                <Grid Grid.Row="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Text="透明度"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="14" />
                                    <Slider x:Name="PART_OpacitySlider"
                                            Grid.Column="1"
                                            Style="{StaticResource ColorSelector.Slider.Opacity}"
                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=AlphaValue}" />
                                </Grid>

                                <!--  亮度滑块  -->
                                <Grid Grid.Row="6">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Text="亮度"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="14" />
                                    <Slider x:Name="PART_BrightSlider"
                                            Grid.Column="1"
                                            Style="{StaticResource ColorSelector.Slider.Brightness}"
                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Value}" />
                                </Grid>

                                <!--  饱和度滑块  -->
                                <Grid Grid.Row="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Text="饱和度"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="14" />
                                    <Slider x:Name="PART_SaturationSlider"
                                            Grid.Column="1"
                                            Style="{StaticResource ColorSelector.Slider.Saturation}"
                                            Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Saturation}" />
                                </Grid>
                            </Grid>

                            <!--  右侧区域：快速选择与预览  -->
                            <StackPanel Grid.Column="2"
                                        Margin="10,0,0,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <!--  颜色预览区  -->
                                    <Border Grid.Column="0"
                                            Height="40"
                                            Margin="0,0,10,0"
                                            BorderBrush="{DynamicResource Border.Default}"
                                            BorderThickness="{DynamicResource BorderThickness.Thin}">
                                        <Grid>
                                            <!--  透明背景格子  -->
                                            <Rectangle>
                                                <Rectangle.Fill>
                                                    <DrawingBrush TileMode="Tile"
                                                                  Viewport="0,0,8,8"
                                                                  ViewportUnits="Absolute">
                                                        <DrawingBrush.Drawing>
                                                            <DrawingGroup>
                                                                <GeometryDrawing Brush="{DynamicResource Alternation.Dark}">
                                                                    <GeometryDrawing.Geometry>
                                                                        <RectangleGeometry Rect="0,0,8,8" />
                                                                    </GeometryDrawing.Geometry>
                                                                </GeometryDrawing>
                                                                <GeometryDrawing Brush="{DynamicResource Alternation.Light}">
                                                                    <GeometryDrawing.Geometry>
                                                                        <GeometryGroup>
                                                                            <RectangleGeometry Rect="0,0,4,4" />
                                                                            <RectangleGeometry Rect="4,4,4,4" />
                                                                        </GeometryGroup>
                                                                    </GeometryDrawing.Geometry>
                                                                </GeometryDrawing>
                                                            </DrawingGroup>
                                                        </DrawingBrush.Drawing>
                                                    </DrawingBrush>
                                                </Rectangle.Fill>
                                            </Rectangle>
                                            <!--  当前颜色预览  -->
                                            <Rectangle>
                                                <Rectangle.Fill>
                                                    <SolidColorBrush Color="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SelectedColor}" />
                                                </Rectangle.Fill>
                                            </Rectangle>

                                            <!--  颜色预览文本  -->
                                            <TextBlock HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Text="颜色预览"
                                                       Foreground="{DynamicResource Foreground.Inverse}"
                                                       FontSize="14" />
                                        </Grid>
                                    </Border>

                                    <!--  取色器  -->
                                    <ctl:ColorEyedropper x:Name="PART_Eyedropper"
                                                         Grid.Column="1"
                                                         Width="40"
                                                         Height="40"
                                                         SelectedColor="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SelectedColor}"
                                                         IsShowSelectedColor="False" />
                                </Grid>

                                <!--  文本输入区  -->
                                <Grid Margin="0,15,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <!--  HEX文本输入  -->
                                    <StackPanel Grid.Column="0"
                                                Margin="0,0,5,0">
                                        <TextBlock Margin="0,0,0,5"
                                                   Text="HEX文本显示"
                                                   Foreground="{TemplateBinding Foreground}"
                                                   FontSize="14" />
                                        <ctl:ColorTextBox x:Name="PART_HexTextBox"
                                                          TextMode="HEX"
                                                          Color="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SelectedColor}" />
                                    </StackPanel>

                                    <!--  RGB文本输入  -->
                                    <StackPanel Grid.Column="1"
                                                Margin="5,0,0,0">
                                        <TextBlock Margin="0,0,0,5"
                                                   Text="RGB文本显示"
                                                   Foreground="{TemplateBinding Foreground}"
                                                   FontSize="14" />
                                        <ctl:ColorTextBox x:Name="PART_RgbTextBox"
                                                          TextMode="RGB"
                                                          Color="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SelectedColor}" />
                                    </StackPanel>
                                </Grid>

                                <!--  预选颜色块区域  -->
                                <StackPanel Margin="0,15,0,0">
                                    <TextBlock Margin="0,0,0,5"
                                               Text="预选颜色块"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="14" />
                                    <ctl:ColorPalette x:Name="PART_PresetColors"
                                                      MinHeight="150"
                                                      BorderThickness="0"
                                                      SelectedColor="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SelectedColor, Mode=TwoWay}" />
                                </StackPanel>

                                <!--  颜色历史记录区域  -->
                                <StackPanel Margin="0,15,0,0">
                                    <TextBlock Margin="0,0,0,5"
                                               Text="颜色历史记录块"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="14" />
                                    <!--<ctl:ColorPalette x:Name="PART_HistoryColors"
                                                      Height="120"
                                                      Rows="3"
                                                      Columns="4"
                                                      SelectedColor="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SelectedColor, Mode=TwoWay}"
                                                      ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=HistoryColors}" />-->
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource Border.Hover}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource Border.Active}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>